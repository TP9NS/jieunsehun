<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en" data-bs-theme="auto">
  <head>
    <script src="/docs/5.3/assets/js/color-modes.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.118.2">
    <title>ìš°ë¦¬ì˜ ë³´ë¬¼ ì§€ë„ì™€ GPT ëŒ€í™”</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/album/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

<style>
.comments-section {
        margin-top: 20px;
    }

    /* ëŒ“ê¸€ ì»¨í…Œì´ë„ˆ */
    .comment-container {
        border-bottom: 1px solid #dee2e6;
        padding: 15px 0;
    }

    /* ëŒ“ê¸€ ë‚´ìš© */
    .comment-content {
        margin-bottom: 10px;
    }

    /* ìˆ˜ì • ë° ì‚­ì œ ë²„íŠ¼ ì •ë ¬ */
    .comment-actions {
        display: flex;
        align-items: center;
        gap: 10px; /* ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ ê°„ê²© */
    }

    .comment-actions textarea {
        flex-grow: 1;
        width: 100%; /* ì…ë ¥ì°½ì´ ê°€ëŠ¥í•œ ìµœëŒ€ ë„ˆë¹„ë¡œ í™•ì¥ */
        max-width: 600px; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
        min-width: 300px; /* ìµœì†Œ ë„ˆë¹„ ì œí•œ */
        height: 38px; /* ë†’ì´ë¥¼ ë²„íŠ¼ê³¼ ë§ì¶¤ */
        resize: none; /* í¬ê¸° ì¡°ì • ë¹„í™œì„±í™” */
    }
    .btn {
        white-space: nowrap; /* ë²„íŠ¼ í…ìŠ¤íŠ¸ ì¤„ë°”ê¿ˆ ë°©ì§€ */
    }
    .btn-outline-danger {
        color: #ffffff; /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
        background-color: #dc3545; /* í´ë¦­ ì‹œ ë°°ê²½ìƒ‰ */
        border-color: #dc3545; /* í…Œë‘ë¦¬ ìƒ‰ìƒ */
    }
    .btn-outline-danger:hover {
        color: #fff; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
        background-color: #c82333; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ ë°°ê²½ìƒ‰ */
        border-color: #dc3545; /* ë§ˆìš°ìŠ¤ ì˜¤ë²„ ì‹œ í…Œë‘ë¦¬ ìƒ‰ìƒ */
    }

    .btn-outline-danger:active {
        color: #fff; /* í´ë¦­ ì‹œ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
        background-color: #c82333; /* í´ë¦­ ì‹œ ë°°ê²½ìƒ‰ */
        border-color: #bd2130; /* í´ë¦­ ì‹œ í…Œë‘ë¦¬ ìƒ‰ìƒ */
    }

    .comment-form {
       margin-top: 30px;
    max-width: 900px; /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
    margin-left: auto; /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
    width: 100%;
    margin-right: auto; /* ê°€ë¡œ ì¤‘ì•™ ì •ë ¬ */
    }

    .comment-form .form-control {
        resize: none;
    }
    
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      user-select: none;
    }
    .btn-bd-primary {
    padding: 10px 20px;
    width: 120px;
    height: 40px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    justify-content: center;
    }

    .b-example-divider {
      width: 100%;
      height: 3rem;
      background-color: rgba(0, 0, 0, .1);
      border: solid rgba(0, 0, 0, .15);
      border-width: 1px 0;
      box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
    }

    .custom-container {
      padding-left: 0;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      padding-top: 3rem;
      background-color: #f9f9f9;
    }

    .table-bordered {
      width: 1400px;
      height: auto;
      border-collapse: collapse;
    }

    .table-bordered th,
    .table-bordered td {
      padding: 5px;
      border: 1px solid #dee2e6;
    }

    .table-bordered th {
      background-color: #f8f9fa;
      font-weight: bold;
      text-align: center;
    }
</style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
      <symbol id="check2" viewBox="0 0 16 16">
        <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
      </symbol>
      <symbol id="circle-half" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
      </symbol>
      <symbol id="moon-stars-fill" viewBox="0 0 16 16">
        <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
        <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
      </symbol>
      <symbol id="sun-fill" viewBox="0 0 16 16">
        <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
      </symbol>
    </svg>
<body data-user-permission="0"> <!-- ì˜ˆë¥¼ ë“¤ì–´ 0 ë˜ëŠ” 1 -->

<header data-bs-theme="dark">
  <div class="collapse text-bg-dark" id="navbarHeader">
    <div class="container">
      <div class="row">
        <div class="col-sm-8 col-md-7 py-4">
          <h4>About</h4>
          <p class="text-body-secondary">ìš°ë¦¬ë“¤ì˜ ë³´ë¬¼ì§€ë„ì— ì˜¨ ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤!</p>
        </div>
        <div class="col-sm-4 offset-md-1 py-4">
          <h4>Contact</h4>
          <ul class="list-unstyled">
            <li><a href="#" class="text-white">Follow on Twitter</a></li>
            <li><a href="#" class="text-white">Like on Facebook</a></li>
            <li><a href="#" class="text-white">Email me</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
  <div class="navbar navbar-dark bg-dark shadow-sm">
    <div class="container d-flex align-items-center justify-content-between">
       <!-- ë³´ë¬¼ ì§€ë„ ë¡œê³ ë¥¼ ìƒë‹¨ì— ê³ ì • -->
      <a href="/main" class="navbar-brand">
        <strong>ë³´ë¬¼ ì§€ë„-ê²Œì‹œê¸€ ìƒì„¸ë³´ê¸°</strong>
        <img src=/images/ë³´ë¬¼ì§€ë„ë¡œê³ .png alt="ë³´ë¬¼ ì§€ë„ ë¡œê³ " width="50" height="50" class="me-2">
      </a>

      <!-- ë¡œê³  ì•„ë˜ ê°€ë¡œë¡œ ë©”ë‰´ì™€ ë²„íŠ¼ ë°°ì¹˜ -->
      <div class="d-flex justify-content-between w-100 mt-2">
        <ul class="navbar-nav flex-row">
        </ul>

        <!-- ë¡œê·¸ì¸ ì—¬ë¶€ì— ë”°ë¼ ë²„íŠ¼ í‘œì‹œ -->
        <ul class="navbar-nav flex-row">
          <!-- ë¡œê·¸ì¸ì´ ë˜ì–´ ìˆì„ ë•Œ(ì„¸ì…˜ì— user_idê°€ ìˆì„ ë•Œ) -->
          <li th:if="${session.user_id != null}" class="nav-item me-3">
    					<a class="nav-link" th:if="${session.permission == 0}" th:href="@{/user/manage-locations}">ê´€ë¦¬ìë‹˜ ì–´ì„œì˜¤ì„¸ìš”!</a>
    					<a class="nav-link" th:if="${session.permission != 0}" th:href="@{/user/mypage}">ë§ˆì´í˜ì´ì§€</a>
 						 </li>
 					<li th:if="${session.user_id != null}" class="nav-item me-3">
            <a class="nav-link" th:href="@{/board}">ê²Œì‹œíŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
          </li>
          <li th:if="${session.user_id != null}" class="nav-item">
            <a class="nav-link" th:href="@{/user/logout}">ë¡œê·¸ì•„ì›ƒ</a>
          </li>

          <!-- ë¡œê·¸ì¸ì´ ë˜ì–´ ìˆì§€ ì•Šì„ ë•Œ(ì„¸ì…˜ì— user_idê°€ ì—†ì„ ë•Œ) -->
          <li th:unless="${session.user_id != null}" class="nav-item me-3">
            <a class="nav-link" th:href="@{/user/login}">ë¡œê·¸ì¸</a>
          </li>
          <li th:unless="${session.user_id != null}" class="nav-item">
            <a class="nav-link" th:href="@{/user/signup}">íšŒì›ê°€ì…</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</header>
<body>
    <div class="container mt-4">
     <!-- ê²Œì‹œê¸€ ìˆ¨ê¹€ ìƒíƒœ í‘œì‹œ -->
    <script th:if="${alertMessage != null}">
    alert("[[${alertMessage}]]");
</script>
<div class="card shadow-lg p-4 mb-4">
    <div class="card-body">
      <h2 class="card-title text-center text-primary mb-4" th:text="${post.title}">ê²Œì‹œê¸€ ì œëª©</h2>

      <!-- ì‘ì„±ì -->
      <p class="text-muted"><b>ì‘ì„±ì:</b> <span th:text="${post.username}">ì‘ì„±ì ì´ë¦„</span></p>

      <!-- ì‘ì„±ì¼ -->
      <p class="text-muted"><b>ì‘ì„±ì¼:</b> <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">ì‘ì„±ì¼</span></p>

      <!-- ì¹´í…Œê³ ë¦¬ -->
      <p class="text-muted">
        <b>ì¹´í…Œê³ ë¦¬:</b>
        <span th:text="${(post.parentCategoryName != null ? post.parentCategoryName : '') 
                            + (post.categoryName != null ? ' - ' + post.categoryName : '') 
                            + (post.detailedCategory != null ? ' - ' + post.detailedCategory : '')}">
          ì¹´í…Œê³ ë¦¬ ì •ë³´
        </span>
      </p>

      <!-- ë‚´ìš© -->
      <div class="mb-4">
        <h5 class="text-secondary">ë‚´ìš©</h5>
        <p class="card-text" th:text="${post.content}">ê²Œì‹œê¸€ ë‚´ìš©</p>
      </div>

      <!-- ì´ë¯¸ì§€ -->
      <div class="mb-4" th:if="${post.imageUrl != null}">
        <h5 class="text-secondary">ì´ë¯¸ì§€</h5>
        <img th:src="@{/images/{image}(image=${post.imageUrl})}" alt="ê²Œì‹œê¸€ ì´ë¯¸ì§€" class="img-fluid rounded shadow-sm" style="max-width: 600px; height: auto;">
      </div>

      <!-- ì§€ë„ -->
      <div class="mb-4">
        <h5 class="text-secondary">ìœ„ì¹˜ ì •ë³´</h5>
        <div id="map" style="width:100%; height:400px; border-radius: 10px; border: 1px solid #ddd;"></div>
      </div>

      <!-- ë²„íŠ¼ -->
      <div class="d-flex justify-content-between">
        <a href="/board" class="btn btn-secondary">ë’¤ë¡œ ê°€ê¸°</a>
        <div>
          <button class="btn btn-outline-danger me-2" th:if="${session.permission == 1}" data-bs-toggle="modal" data-bs-target="#reportPostModal">ê¸€ ì‹ ê³ </button>
          <span th:if="${session.username == post.username}">
            <a th:href="@{/post/edit/{id}(id=${post.id})}" class="btn btn-warning">ìˆ˜ì •</a>
            <form th:action="@{/post/delete}" method="post" class="d-inline">
              <input type="hidden" name="id" th:value="${post.id}">
              <button type="submit" class="btn btn-danger" onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</button>
            </form>
          </span>
          <!-- ê´€ë¦¬ì ì „ìš© ìˆ¨ê¹€ ë²„íŠ¼ -->
        <span th:if="${session.permission == 0}">
            <form th:action="@{/user/post/hide}" method="post" style="display:inline;">
                <input type="hidden" name="id" th:value="${post.id}">
                <button type="submit" class="btn btn-outline-danger" onclick="return confirm('ê²Œì‹œê¸€ì„ ìˆ¨ê¸°ì‹œê² ìŠµë‹ˆê¹Œ?')">ìˆ¨ê¹€ ì²˜ë¦¬</button>
            </form>
        </span>
        </div>
      </div>
    </div>
  </div>
    </div>
    
    <!-- ì‹ ê³  ëª¨ë‹¬ -->
<div class="modal fade" id="reportPostModal" tabindex="-1" aria-labelledby="reportPostModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form th:action="@{/posts/report}" method="post">
                <div class="modal-header">
                    <h5 class="modal-title" id="reportPostModalLabel">ğŸš¨ ê²Œì‹œê¸€ ì‹ ê³ </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <input type="hidden" name="postId" th:value="${post.id}">
                    
                    <!-- ì‹ ê³  ìœ í˜• ì„ íƒ -->
                    <label for="reportType" class="form-label">ì‹ ê³  ìœ í˜•</label>
                    <select class="form-select" id="reportType" name="reportType" required>
                        <option value="" disabled selected>ì‹ ê³  ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                        <option value="ìš•ì„¤">ìš•ì„¤</option>
                        <option value="ë¶€ì ì ˆí•œ ì´ë¯¸ì§€">ë¶€ì ì ˆí•œ ì´ë¯¸ì§€</option>
                        <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                    </select>

                    <!-- ì¶”ê°€ ì‚¬ìœ  ì…ë ¥ -->
                    <div class="mt-3" id="additionalReasonContainer" style="display: none;">
                        <label for="additionalReason" class="form-label">ì¶”ê°€ ì‹ ê³  ì‚¬ìœ </label>
                        <textarea class="form-control" id="reason" name="additionalReason" rows="3" placeholder="ì‹ ê³  ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    <button type="submit" class="btn btn-danger">ì‹ ê³ </button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="comment-form card mt-4">
  <!-- ëŒ“ê¸€ í—¤ë” -->
  <h4 class="text-primary mb-4 text-center">ğŸ’¬ ëŒ“ê¸€</h4>

  <!-- ëŒ“ê¸€ ë¦¬ìŠ¤íŠ¸ -->
  <div th:each="comment : ${comments}" th:if="${!comment.hidden}" class="card mb-3 shadow-sm">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
        <!-- ì‘ì„±ìì™€ ì‘ì„± ì‹œê°„ -->
        <div>
          <strong class="text-primary" th:text="${comment.username}">ì‘ì„±ì ì´ë¦„</strong>
          <small class="text-muted ms-2" th:text="${#temporals.format(comment.createdAt, 'yyyy-MM-dd HH:mm')}">ì‘ì„± ì‹œê°„</small>
        </div>
        <!-- ì‹ ê³  ë²„íŠ¼ -->
        <form th:if="${session.permission == 1}" th:action="@{/comments/report}" method="post" class="d-inline">
          <input type="hidden" name="commentId" th:value="${comment.id}">
          <button type="button" class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" 
                  data-bs-target="#reportCommentModal" th:attr="data-comment-id=${comment.id}">ì‹ ê³ </button>
        </form>
        <!-- ê´€ë¦¬ì ì „ìš© ìˆ¨ê¹€ ì²˜ë¦¬ ë²„íŠ¼ -->
        <span th:if="${session.permission == 0}">
          <form th:action="@{/user/comments/hide}" method="post" class="d-inline">
            <input type="hidden" name="commentId" th:value="${comment.id}">
            <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('ëŒ“ê¸€ì„ ìˆ¨ê¸°ì‹œê² ìŠµë‹ˆê¹Œ?')">ìˆ¨ê¹€ ì²˜ë¦¬</button>
          </form>
        </span>
      </div>

      <!-- ëŒ“ê¸€ ë‚´ìš© -->
      <div class="card-text mt-3">
        <p class="editable-text w-100" 
           th:text="${comment.content}" 
           style="cursor: default; border: 1px solid transparent; padding: 5px; border-radius: 5px;">
        </p>
      </div>

      <!-- ëŒ“ê¸€ ìˆ˜ì • ë° ì‚­ì œ -->
      <div th:if="${comment.username == username}" class="d-flex align-items-center justify-content-end">
        <form th:action="@{/comments/edit}" method="post" class="me-2 d-flex">
          <input type="hidden" name="commentId" th:value="${comment.id}">
          <textarea class="form-control form-control-sm me-2 w-75"
                    name="content" 
                    rows="1"
                    placeholder="ëŒ“ê¸€ ìˆ˜ì •"
                    required></textarea>
          <button type="submit" class="btn btn-sm btn-primary">ìˆ˜ì •</button>
        </form>
        <form th:action="@{/comments/delete}" method="post" class="d-inline">
          <input type="hidden" name="commentId" th:value="${comment.id}">
          <button type="submit" class="btn btn-sm btn-outline-danger">ì‚­ì œ</button>
        </form>
      </div>
    </div>
  </div>
  <!-- ëŒ“ê¸€ ì‘ì„± í¼ -->
  <div class="comment-form card mt-4">
    <div class="card-body">
      <h5 class="card-title text-center text-primary">âœï¸ ëŒ“ê¸€ ì‘ì„±</h5>
      <form action="/comments/add" method="post" th:action="@{/comments/add}" th:object="${newComment}">
        <input type="hidden" name="postId" th:value="${post.id}">
        <div class="mb-3">
          <label for="username" class="form-label">ì´ë¦„</label>
          <input type="text" class="form-control" id="username" name="username" th:value="${username}" readonly>
        </div>
        <div class="mb-3">
          <label for="content" class="form-label">ë‚´ìš©</label>
          <textarea class="form-control" id="content" name="content" rows="3" placeholder="ëŒ“ê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”." required></textarea>
        </div>
        <button type="submit" class="btn btn-primary w-30">ëŒ“ê¸€ ì‘ì„±</button>
      </form>
    </div>
  </div>
</div>

<!-- ì‹ ê³  ëª¨ë‹¬ -->
<div class="modal fade" id="reportCommentModal" tabindex="-1" aria-labelledby="reportCommentModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <form th:action="@{/comments/report}" method="post">
        <div class="modal-header">
          <h5 class="modal-title text-danger" id="reportCommentModalLabel">ğŸš¨ ëŒ“ê¸€ ì‹ ê³ </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="hidden" id="commentId" name="commentId">

          <!-- ì‹ ê³  ìœ í˜• ì„ íƒ -->
          <div class="mb-3">
            <label for="reportType" class="form-label fw-bold">ì‹ ê³  ìœ í˜•</label>
            <select class="form-select" id="reportType" name="reportType" required>
              <option value="" disabled selected>ì‹ ê³  ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”</option>
              <option value="ìš•ì„¤">ìš•ì„¤</option>
              <option value="ë¶€ì ì ˆí•œ ì´ë¯¸ì§€">ë¶€ì ì ˆí•œ ì´ë¯¸ì§€</option>
              <option value="ê¸°íƒ€">ê¸°íƒ€</option>
            </select>
          </div>

          <!-- ì¶”ê°€ ì‚¬ìœ  ì…ë ¥ -->
          <div class="mb-3" id="additionalReasonContainer" style="display: none;">
            <label for="additionalReason" class="form-label fw-bold">ì¶”ê°€ ì‹ ê³  ì‚¬ìœ </label>
            <textarea class="form-control" id="additionalReason" name="additionalReason" rows="3" placeholder="ì‹ ê³  ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
          <button type="submit" class="btn btn-danger">ì‹ ê³ </button>
        </div>
      </form>
    </div>
  </div>
</div>


<!-- Kakao ì§€ë„ API -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=5e206128c9bbc2a5a6512679610c9ef8&libraries=services"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // ì„œë²„ì—ì„œ ì „ë‹¬ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        const latitude = [[${post.latitude}]];
        const longitude = [[${post.longitude}]];
        const placeName = "[[${post.placeName}]]"; // ì¥ì†Œ ì´ë¦„

        // ë””ë²„ê¹…: ë°ì´í„° í™•ì¸
        console.log("Latitude:", latitude);
        console.log("Longitude:", longitude);
        console.log("Place Name:", placeName);

        // ì§€ë„ ìƒì„±
        const container = document.getElementById('map');
        const options = {
            center: new kakao.maps.LatLng(latitude, longitude), // ì¤‘ì‹¬ ì¢Œí‘œ
            level: 3 // í™•ëŒ€ ë ˆë²¨
        };

        const map = new kakao.maps.Map(container, options);

        // ë§ˆì»¤ ìƒì„±
        const marker = new kakao.maps.Marker({
            position: new kakao.maps.LatLng(latitude, longitude),
            map: map
        });

        // ì¥ì†Œ ì´ë¦„ í‘œì‹œ
        const infowindow = new kakao.maps.InfoWindow({
            content: `<div style="padding:5px;">${placeName}</div>` // ì¥ì†Œëª… í‘œì‹œ
        });

        infowindow.open(map, marker); // ì¸í¬ìœˆë„ìš°ë¥¼ ë§ˆì»¤ ìœ„ì— í‘œì‹œ
    });
</script>
<script>
    // ë°ì´í„°ê°€ ì—†ì„ ê²½ìš° ê¸°ë³¸ ê°ì²´ ì„¤ì •
    const post = /*[[${post}]]*/ {};
    console.log("Post Data:", post);

    if (Object.keys(post).length === 0) {
        console.error("Post data is empty. Check server response.");
    }
const editCommentModal = document.getElementById('editCommentModal');
editCommentModal.addEventListener('show.bs.modal', function (event) {
    const button = event.relatedTarget; // ìˆ˜ì • ë²„íŠ¼ ê°€ì ¸ì˜¤ê¸°
    const commentId = button.getAttribute('data-comment-id'); // ëŒ“ê¸€ ID ê°€ì ¸ì˜¤ê¸°
    const commentContent = button.getAttribute('data-comment-content'); // ëŒ“ê¸€ ë‚´ìš© ê°€ì ¸ì˜¤ê¸°

    // ë””ë²„ê¹…ìš© ë¡œê·¸ ì¶œë ¥
    console.log("Comment ID: ", commentId);
    console.log("Comment Content: ", commentContent);

    // ëª¨ë‹¬ input ë° textareaì— ê°’ ì„¤ì •
    document.getElementById('editCommentId').value = commentId;
    document.getElementById('editCommentContent').value = commentContent;
});
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    // ê²Œì‹œê¸€ ì‹ ê³  ëª¨ë‹¬ ì²˜ë¦¬
    const reportPostModal = document.getElementById("reportPostModal");
    if (reportPostModal) {
        const reportPostForm = reportPostModal.querySelector("form");
        const reportTypeSelect = document.getElementById("reportType");
        const additionalReasonContainer = document.getElementById("additionalReasonContainer");
        const reasonTextarea = document.getElementById("reason");

        // ì‹ ê³  ìœ í˜• ì„ íƒ ì‹œ ì¶”ê°€ ì‚¬ìœ  í•„ë“œ í‘œì‹œ/ìˆ¨ê¸°ê¸°
        if (reportTypeSelect && additionalReasonContainer) {
            reportTypeSelect.addEventListener("change", function () {
                if (reportTypeSelect.value === "ê¸°íƒ€") {
                    additionalReasonContainer.style.display = "block";
                } else {
                    additionalReasonContainer.style.display = "none";
                    if (reasonTextarea) {
                        reasonTextarea.value = ""; // ì„ íƒ ë³€ê²½ ì‹œ ì¶”ê°€ ì‚¬ìœ  í•„ë“œ ì´ˆê¸°í™”
                    }
                }
            });
        }

        // ì‹ ê³  í¼ ì œì¶œ ì²˜ë¦¬
        if (reportPostForm) {
            reportPostForm.addEventListener("submit", function (event) {
                event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ì¤‘ì§€

                const reportType = reportTypeSelect.value; // ì‹ ê³  ìœ í˜• ê°’
                const additionalReason = reasonTextarea ? reasonTextarea.value.trim() : ""; // ì¶”ê°€ ì‚¬ìœ  ê°’

                // ì‹ ê³  ìœ í˜• í™•ì¸
                if (!reportType) {
                    alert("ì‹ ê³  ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
                    return;
                }

                // "ê¸°íƒ€" ì„ íƒ ì‹œ ì¶”ê°€ ì‚¬ìœ  í™•ì¸
                if (reportType === "ê¸°íƒ€" && !additionalReason) {
                    alert("ì¶”ê°€ ì‹ ê³  ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    return;
                }

                // ì‹ ê³  í™•ì¸ ë©”ì‹œì§€
                if (confirm("ê²Œì‹œê¸€ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    reportPostForm.submit(); // í¼ ì œì¶œ
                }
            });
        } else {
            console.error("Report post form not found inside the modal.");
        }
    } else {
        console.error("Report post modal not found.");
    }

    document.addEventListener("DOMContentLoaded", function () {
        // ëŒ“ê¸€ ì‹ ê³  ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸
        const reportCommentForms = document.querySelectorAll('form[action="/comments/report"]');

        if (reportCommentForms.length > 0) {
            reportCommentForms.forEach((form) => {
                form.addEventListener("submit", function (event) {
                    event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ì¤‘ì§€

                    // ì‹ ê³  ìœ í˜• ì„ íƒ ë° ì¶”ê°€ ì‚¬ìœ  í•„ë“œ ì°¸ì¡°
                    const reportTypeSelect = form.querySelector("select[name='reportType']");
                    const additionalReasonTextarea = form.querySelector("textarea[name='additionalReason']");

                    const reportType = reportTypeSelect ? reportTypeSelect.value : "";
                    const additionalReason = additionalReasonTextarea ? additionalReasonTextarea.value.trim() : "";

                    // ì‹ ê³  ìœ í˜• í™•ì¸
                    if (!reportType) {
                        alert("â— ì‹ ê³  ìœ í˜•ì„ ì„ íƒí•´ì£¼ì„¸ìš”.");
                        reportTypeSelect.focus(); // ì‹ ê³  ìœ í˜•ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
                        return;
                    }

                    // "ê¸°íƒ€" ì„ íƒ ì‹œ ì¶”ê°€ ì‚¬ìœ  í™•ì¸
                    if (reportType === "ê¸°íƒ€" && !additionalReason) {
                        alert("â— ì¶”ê°€ ì‹ ê³  ì‚¬ìœ ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                        additionalReasonTextarea.focus(); // ì¶”ê°€ ì‚¬ìœ  ì…ë ¥ì°½ìœ¼ë¡œ í¬ì»¤ìŠ¤ ì´ë™
                        return;
                    }

                    // ì‹ ê³  í™•ì¸ ë©”ì‹œì§€
                    if (confirm("ğŸ”” ëŒ“ê¸€ì„ ì‹ ê³ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                        form.submit(); // í¼ ì œì¶œ
                    }
                });
            });
        } else {
            console.warn("âš ï¸ No comment report forms found.");
        }

        console.log("âœ… ëŒ“ê¸€ ì‹ ê³  ìŠ¤í¬ë¦½íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ.");
    });


</script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    // ì „í™˜: í…ìŠ¤íŠ¸ -> ìˆ˜ì • ê°€ëŠ¥ ìƒíƒœ
    window.makeEditable = function (element) {
        const textarea = element.nextElementSibling.querySelector('textarea');
        const submitButton = element.nextElementSibling.querySelector('button[type="submit"]');
        if (textarea && submitButton) {
            textarea.value = element.textContent.trim(); // í˜„ì¬ í…ìŠ¤íŠ¸ë¥¼ textareaë¡œ ë³µì‚¬
            element.classList.add('d-none'); // í…ìŠ¤íŠ¸ ìˆ¨ê¸°ê¸°
            textarea.classList.remove('d-none'); // textarea í‘œì‹œ
            submitButton.classList.remove('d-none'); // ì €ì¥ ë²„íŠ¼ í‘œì‹œ
            textarea.focus(); // ìˆ˜ì • ê°€ëŠ¥ ìƒíƒœë¡œ í¬ì»¤ìŠ¤
        }
    };

    // ì „í™˜: ìˆ˜ì • ìƒíƒœ -> í…ìŠ¤íŠ¸
    window.hideEditableForm = function (textarea) {
        const form = textarea.closest('form');
        const textElement = form.previousElementSibling;
        const submitButton = form.querySelector('button[type="submit"]');
        if (textElement && submitButton) {
            textElement.classList.remove('d-none'); // í…ìŠ¤íŠ¸ ë‹¤ì‹œ í‘œì‹œ
            textarea.classList.add('d-none'); // textarea ìˆ¨ê¸°ê¸°
            submitButton.classList.add('d-none'); // ì €ì¥ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
        }
    };
});


</script>
</body>
</html>